let t;var e,i,s=globalThis,o={},r={},a=s.parcelRequire5cc2;null==a&&((a=function(t){if(t in o)return o[t].exports;if(t in r){var e=r[t];delete r[t];var i={id:t,exports:{}};return o[t]=i,e.call(i.exports,i,i.exports),i.exports}var s=Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(t,e){r[t]=e},s.parcelRequire5cc2=a);var n=a.register;n("iyjrR",function(t,e){t.exports=import("8BShk").then(()=>a("jaZ7o"))}),n("8ZFBQ",function(t,e){t.exports=import("ilUZb").then(()=>a("6fGU3"))});const p={en:{"Enter names below":"Enter names below",Shuffle:"Shuffle",Start:"Start",Map:"Map",Recording:"Recording","The winner is":"The winner is","Using skills":"Using skills","Buy me a coffee":"Buy me a coffee",First:"First",Last:"Last","Wheel of fortune":"Wheel of fortune",BubblePop:"BubblePop","Pot of greed":"Pot of greed","Yoru ni Kakeru":"Into The Night (by item4)","Shake!":"Shake!","Input names separated by commas or line feed here":"Input names separated by commas or line feed here","This program is freeware and may be used freely anywhere, including in broadcasts and videos.":"This program is freeware and may be used freely anywhere, including in broadcasts and videos.",Close:"Close","The result has been copied":"The result has been copied","2025 Recap":"2025 Recap","Add Group":"Add Group","Remove Group":"Remove Group",Group:"Group ","Group name":"Group Name","Lane Type":"Lane Type","From Top":"From Top","Fixed Lane":"Fixed Lane",Random:"Random","Team Result":"Team Result",Blue:"Blue",Red:"Red",top:"top",jg:"jg",mid:"mid",adc:"adc",sup:"sup","Any group":"Choose group","Set group for lane":"Set group for lane","10x speed":"Speed reinforcement"},ko:{"Enter names below":"이름들을 입력하세요",Shuffle:"섞기",Start:"시작",Map:"맵",Recording:"녹화","The winner is":"당첨 순위","Using skills":"스킬 활성화","Buy me a coffee":"개발자에게 커피 사주기",First:"첫번째",Last:"마지막","Wheel of fortune":"운명의 수레바퀴",BubblePop:"버블팝","Pot of greed":"욕망의 항아리","Yoru ni Kakeru":"밤을 달리다 (by item4)","Shake!":"흔들기!","Input names separated by commas or line feed here":"이름들을 쉼표나 엔터로 구분해서 넣어주세요","This program is freeware and may be used freely anywhere, including in broadcasts and videos.":"이 프로그램은 프리웨어이며 방송이나 영상 등을 포함한 어떤 용도로든 자유롭게 사용하는 것이 허용되어있습니다.",Close:"닫기","The result has been copied":"결과가 복사되었습니다","2025 Recap":"2025 결산","Add Group":"그룹 추가","Remove Group":"그룹 삭제",Group:"그룹 ","Group name":"그룹 이름","Lane Type":"라인 타입","From Top":"탑부터","Fixed Lane":"고정라인",Random:"랜덤","Team Result":"팀 결과",Blue:"블루",Red:"레드",top:"탑",jg:"정글",mid:"미드",adc:"원딜",sup:"서폿","Any group":"선택하세요","Set group for lane":"라인의 그룹을 설정하세요","10x speed":"배속 강화"}};function l(e){if(!(e instanceof HTMLElement)||!t)return;let i=e.getAttribute("data-trans");if(i){let s=(e.getAttribute(i)||"").trim();s&&s in p[t]&&e.setAttribute(i,p[t][s])}else{let i=e.textContent.trim();i&&i in p[t]&&(e.textContent=p[t][i])}}function y(e){if(t){let i=e.trim();if(i&&i in p[t])return p[t][i]}return e}function c(t,e,i,s){var o,r=arguments.length,a=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,s);else for(var n=t.length-1;n>=0;n--)(o=t[n])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a}document.addEventListener("DOMContentLoaded",()=>{console.log("localization loaded");let e=navigator.language.split("-")[0];console.log("detected locale: ",e),function(e){if(e===t)return;document.documentElement.lang=e;let i=e.toLocaleLowerCase();t=i in p?i:"en",document.querySelectorAll("[data-trans]").forEach(l)}(e)}),window.translateElement=l,"function"==typeof SuppressedError&&SuppressedError;var h=((e={})[e.None=0]="None",e[e.Impact=1]="Impact",e);const u={light:{background:"#eee",marbleLightness:50,marbleWinningBorder:"black",skillColor:"#69c",coolTimeIndicator:"#999",entity:{box:{fill:"#226f92",outline:"black",bloom:"cyan",bloomRadius:0},circle:{fill:"yellow",outline:"#ed7e11",bloom:"yellow",bloomRadius:0},polyline:{fill:"white",outline:"black",bloom:"cyan",bloomRadius:0}},rankStroke:"black",minimapBackground:"#fefefe",minimapViewport:"#6699cc",winnerBackground:"rgba(255, 255, 255, 0.5)",winnerOutline:"black",winnerText:"#cccccc"},dark:{background:"black",marbleLightness:75,marbleWinningBorder:"white",skillColor:"white",coolTimeIndicator:"red",entity:{box:{fill:"cyan",outline:"cyan",bloom:"cyan",bloomRadius:15},circle:{fill:"yellow",outline:"yellow",bloom:"yellow",bloomRadius:15},polyline:{fill:"white",outline:"white",bloom:"cyan",bloomRadius:15}},rankStroke:"",minimapBackground:"#333333",minimapViewport:"white",winnerBackground:"rgba(0, 0, 0, 0.5)",winnerOutline:"black",winnerText:"white"}};function d(t){return Math.PI*t/180}function g(t,e){let i=t.exec(e);return i?i[1]:""}function x(t){return t.toString().padStart(2,"0")}const f=new class{constructor(){this.useSkills=!0,this.winningRank=0,this.autoRecording=!0,this.fastForwardSpeed=2}};class m{static sub(t,e){return{x:e.x-t.x,y:e.y-t.y}}static lenSq(t){return t.x*t.x+t.y*t.y}static len(t){return Math.sqrt(this.lenSq(t))}static mul(t,e){return{x:t.x*e,y:t.y*e}}static add(t,e){return{x:t.x+e.x,y:t.y+e.y}}}function b(t,e){let i=t.getTransform();e(t),t.setTransform(i)}class _{get position(){return this.physics.getMarblePosition(this.id)||{x:0,y:0,angle:0}}get x(){return this.position.x}set x(t){this.position.x=t}get y(){return this.position.y}set y(t){this.position.y=t}get angle(){return this.position.angle}constructor(t,e,i,s,o=1){this.type="marble",this.name="",this.size=.5,this.color="red",this.hue=0,this.impact=0,this.weight=1,this.skill=h.None,this.isActive=!1,this._skillRate=5e-4,this._coolTime=5e3,this._maxCoolTime=5e3,this._stuckTime=0,this.lastPosition={x:0,y:0},this.theme=u.dark,this.name=s||`M${e}`,this.weight=o,this.physics=t,this._maxCoolTime=1e3+(1-this.weight)*4e3,this._coolTime=this._maxCoolTime*Math.random(),this._skillRate=.2*this.weight;let r=Math.ceil(i/10),a=Math.floor(e/10),n=-Math.max(0,Math.ceil(r-5));this.hue=360/i*e,this.color=`hsl(${this.hue} 100% 70%)`,this.id=e,t.createMarble(e,10.25+e%10*.6,r-a+n)}update(t){this.isActive&&1e-5>m.lenSq(m.sub(this.lastPosition,this.position))?(this._stuckTime+=t,this._stuckTime>5e3&&(this.physics.shakeMarble(this.id),this._stuckTime=0)):this._stuckTime=0,this.lastPosition={x:this.position.x,y:this.position.y},this.skill=h.None,this.impact&&(this.impact=Math.max(0,this.impact-t)),this.isActive&&f.useSkills&&this._updateSkillInformation(t)}_updateSkillInformation(t){this._coolTime>0&&(this._coolTime-=t),this._coolTime<=0&&(this.skill=Math.random()<this._skillRate?h.Impact:h.None,this._coolTime=this._maxCoolTime)}render(t,e,i,s=!1,o,r,a){this.theme=a;let n=r.w/r.zoom/2,p=r.h/r.zoom/2,l=r.x-n,y=r.x+n,c=r.y-p-this.size/2,h=r.y+p;if(!s&&(this.x<l||this.x>y||this.y<c||this.y>h))return;let u=t.getTransform();s?this._renderMinimap(t):this._renderNormal(t,e,i,o),t.setTransform(u)}_renderMinimap(t){t.fillStyle=this.color,this._drawMarbleBody(t,!0)}_drawMarbleBody(t,e){t.beginPath(),t.arc(this.x,this.y,e?this.size:this.size/2,0,2*Math.PI),t.fill()}_renderNormal(t,e,i,s){let o=this.size/2;t.fillStyle=`hsl(${this.hue} 100% ${this.theme.marbleLightness+25*Math.min(1,this.impact/500)}%`,s?b(t,()=>{t.translate(this.x,this.y),t.rotate(this.angle),t.drawImage(s,-o,-o,2*o,2*o)}):this._drawMarbleBody(t,!1),t.shadowColor="",t.shadowBlur=0,this._drawName(t,e),i&&this._drawOutline(t,2/e),f.useSkills&&this._renderCoolTime(t,e)}_drawName(t,e){b(t,()=>{t.font="12pt sans-serif",t.strokeStyle="black",t.lineWidth=2,t.fillStyle=this.color,t.shadowBlur=0,t.translate(this.x,this.y+.25),t.scale(1/e,1/e),t.strokeText(this.name,0,0),t.fillText(this.name,0,0)})}_drawOutline(t,e){t.beginPath(),t.strokeStyle=this.theme.marbleWinningBorder,t.lineWidth=e,t.arc(this.x,this.y,this.size/2,0,2*Math.PI),t.stroke()}_renderCoolTime(t,e){t.strokeStyle=this.theme.coolTimeIndicator,t.lineWidth=1/e,t.beginPath(),t.arc(this.x,this.y,this.size/2+2/e,d(270),d(270+360*this._coolTime/this._maxCoolTime)),t.stroke()}}class w{constructor(t,e){this._elapsed=0,this.position={x:0,y:0},this.force={x:0,y:0},this.color="",this.isDestroy=!1,this.position.x=t,this.position.y=e;let i=250*Math.random(),s=d(90*Math.random()-180),o=Math.cos(s)*i,r=Math.sin(s)*i;this.color=`hsl(${360*Math.random()} 50% 50%)`,this.force={x:o,y:r}}update(t){this._elapsed+=t;let e=m.mul(this.force,t/100);this.position=m.add(this.position,e),this.force.y+=10*t/100,this._elapsed>3e3&&(this.isDestroy=!0)}render(t){t.save(),t.globalAlpha=1-Math.pow(this._elapsed/3e3,2),t.fillStyle=this.color,t.fillRect(this.position.x,this.position.y,20,20),t.restore()}}class V{update(t){this._particles.forEach(e=>{e.update(t)}),this._particles=this._particles.filter(t=>!t.isDestroy)}render(t){this._particles.forEach(e=>e.render(t))}shot(t,e){for(let i=0;i<200;i++)this._particles.push(new w(t,e))}constructor(){this._particles=[]}}const k=[{title:"Wheel of fortune",goalY:111,zoomY:106.75,entities:[{position:{x:0,y:0},shape:{type:"polyline",points:[[16.5,-300],[9.25,-300],[9.25,8.5],[2,19.25],[2,26],[9.75,30],[9.75,33.5],[1.25,41],[1.25,53.75],[8.25,58.75],[8.25,63],[9.25,64],[8.25,65],[8.25,99.25],[15.1,106.75],[15.1,111.75]],rotation:0},type:"static",props:{density:1,angularVelocity:0,restitution:0}},{type:"static",position:{x:0,y:0},props:{density:1,angularVelocity:0,restitution:0},shape:{type:"polyline",rotation:0,points:[[16.5,-300],[16.5,9.25],[9.5,20],[9.5,22.5],[17.5,26],[17.5,33.5],[24,38.5],[19,45.5],[19,55.5],[24,59.25],[24,63],[23,64],[24,65],[24,100.5],[16,106.75],[16,111.75]]}},{type:"static",position:{x:0,y:0},props:{density:1,angularVelocity:0,restitution:0},shape:{type:"polyline",rotation:0,points:[[12.75,37.5],[7,43.5],[7,49.75],[12.75,53.75],[12.75,37.5]]}},{type:"static",position:{x:0,y:0},props:{density:1,angularVelocity:0,restitution:0},shape:{type:"polyline",rotation:0,points:[[14.75,37.5],[14.75,43],[17.5,40.25],[14.75,37.5]]}},{position:{x:15.5,y:30},shape:{type:"box",width:.2,height:.2,rotation:-45},type:"static",props:{density:1,angularVelocity:0,restitution:1}},{position:{x:15.5,y:32},type:"static",shape:{type:"box",width:.2,height:.2,rotation:-45},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:15.5,y:28},type:"static",shape:{type:"box",width:.2,height:.2,rotation:-45},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:12.5,y:30},type:"static",shape:{type:"box",width:.2,height:.2,rotation:-45},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:12.5,y:32},type:"static",shape:{type:"box",width:.2,height:.2,rotation:-45},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:12.5,y:28},type:"static",shape:{type:"box",width:.2,height:.2,rotation:-45},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:9.4,y:66.6},type:"static",shape:{type:"box",width:.6,height:.1,rotation:45},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:11.3,y:66.6},type:"static",shape:{type:"box",width:.6,height:.1,rotation:45},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:13.2,y:66.6},type:"static",shape:{type:"box",width:.6,height:.1,rotation:45},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:15.1,y:66.6},type:"static",shape:{type:"box",width:.6,height:.1,rotation:45},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:17,y:66.6},type:"static",shape:{type:"box",width:.6,height:.1,rotation:45},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:18.9,y:66.6},type:"static",shape:{type:"box",width:.6,height:.1,rotation:45},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:20.699999999999996,y:66.6},type:"static",shape:{type:"box",width:.6,height:.1,rotation:45},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:22.7,y:66.6},type:"static",shape:{type:"box",width:.6,height:.1,rotation:45},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:9.4,y:69.1},type:"static",shape:{type:"box",width:.6,height:.1,rotation:-45},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:11.3,y:69.1},type:"static",shape:{type:"box",width:.6,height:.1,rotation:-45},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:13.2,y:69.1},type:"static",shape:{type:"box",width:.6,height:.1,rotation:-45},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:15.1,y:69.1},type:"static",shape:{type:"box",width:.6,height:.1,rotation:-45},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:17,y:69.1},type:"static",shape:{type:"box",width:.6,height:.1,rotation:-45},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:18.9,y:69.1},type:"static",shape:{type:"box",width:.6,height:.1,rotation:-45},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:20.699999999999996,y:69.1},type:"static",shape:{type:"box",width:.6,height:.1,rotation:-45},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:22.7,y:69.1},type:"static",shape:{type:"box",width:.6,height:.1,rotation:-45},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:9.5,y:92},type:"static",shape:{type:"box",width:.25,height:.25,rotation:.7853981633974483},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:12.75,y:92},type:"static",shape:{type:"box",width:.25,height:.25,rotation:.7853981633974483},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:16,y:92},type:"static",shape:{type:"box",width:.25,height:.25,rotation:.7853981633974483},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:19.25,y:92},type:"static",shape:{type:"box",width:.25,height:.25,rotation:.7853981633974483},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:22.5,y:92},type:"static",shape:{type:"box",width:.25,height:.25,rotation:.7853981633974483},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:11,y:95},type:"static",shape:{type:"box",width:.25,height:.25,rotation:.7853981633974483},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:14.25,y:95},type:"static",shape:{type:"box",width:.25,height:.25,rotation:.7853981633974483},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:17.5,y:95},type:"static",shape:{type:"box",width:.25,height:.25,rotation:.7853981633974483},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:20.75,y:95},type:"static",shape:{type:"box",width:.25,height:.25,rotation:.7853981633974483},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:9.5,y:98},type:"static",shape:{type:"box",width:.25,height:.25,rotation:.7853981633974483},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:12.75,y:98},type:"static",shape:{type:"box",width:.25,height:.25,rotation:.7853981633974483},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:16,y:98},type:"static",shape:{type:"box",width:.25,height:.25,rotation:.7853981633974483},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:19.25,y:98},type:"static",shape:{type:"box",width:.25,height:.25,rotation:.7853981633974483},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:22.5,y:98},type:"static",shape:{type:"box",width:.25,height:.25,rotation:.7853981633974483},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:8,y:75},type:"kinematic",shape:{type:"box",width:2,height:.1,rotation:0},props:{density:1,angularVelocity:3.5,restitution:0}},{position:{x:12,y:75},type:"kinematic",shape:{type:"box",width:2,height:.1,rotation:0},props:{density:1,angularVelocity:-3.5,restitution:0}},{position:{x:16,y:75},type:"kinematic",shape:{type:"box",width:2,height:.1,rotation:0},props:{density:1,angularVelocity:3.5,restitution:0}},{position:{x:20,y:75},type:"kinematic",shape:{type:"box",width:2,height:.1,rotation:0},props:{density:1,angularVelocity:-3.5,restitution:0}},{position:{x:24,y:75},type:"kinematic",shape:{type:"box",width:2,height:.1,rotation:0},props:{density:1,angularVelocity:3.5,restitution:0}},{position:{x:14,y:106.75},type:"kinematic",shape:{type:"box",width:2,height:.1,rotation:0},props:{density:1,angularVelocity:-1.2,restitution:0}}]},{title:"BubblePop",goalY:83,zoomY:78,entities:[{type:"static",position:{x:10.375,y:-108.5},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"polyline",rotation:0,points:[[6.125,-191.5],[-1.125,-191.5],[-1.125,108.5],[-1.125,151.5],[-6.125,158.5],[-1.125,161.5],[-1.125,179.5],[-.9128679656440362,179.7498817789222],[-1.125,179.9997635578444],[-1.125,183.5],[1.625,188.5],[1.625,191.5]]}},{type:"static",position:{x:16.25,y:-108.5},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"polyline",rotation:0,points:[[.25,-191.5],[.25,158.5],[3.25,162.5],[2.25,164.5],[3.25,166.5],[.25,169.5],[.25,179.5],[.03786796564403616,179.75925677892224],[.25,179.9997635578444],[.25,183.5],[-3.25,188.5],[-3.25,191.5]]}},{type:"static",position:{x:16.5,y:55.75},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"polyline",rotation:0,points:[[0,-3.25],[1,-1.75],[0,.25],[1,2.25],[0,3.25],[-1,.25],[0,-3.25]]}},{type:"static",position:{x:10.375,y:48.25},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"polyline",rotation:0,points:[[-1.125,-2.75],[-4.125,1.25],[-1.125,2.75],[4.125,2.25],[-1.125,-2.75]]}},{type:"static",position:{x:10.15625,y:26.75},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"polyline",rotation:0,points:[[-.90625,-.75],[.90625,.75]]}},{type:"static",position:{x:15.59375,y:26.75},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"polyline",rotation:0,points:[[.90625,-.75],[-.90625,.75]]}},{type:"static",position:{x:12.875,y:29.25},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"polyline",rotation:0,points:[[-1.8125,.75],[0,-.75],[1.8125,.75]]}},{type:"static",position:{x:10.15625,y:31.75},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"polyline",rotation:0,points:[[-.90625,-.75],[.90625,.75]]}},{type:"static",position:{x:15.59375,y:31.75},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"polyline",rotation:0,points:[[.90625,-.75],[-.90625,.75]]}},{type:"static",position:{x:12.875,y:34.25},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"polyline",rotation:0,points:[[-1.8125,.75],[0,-.75],[1.8125,.75]]}},{type:"static",position:{x:9.25,y:18},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"box",rotation:.7853981633974483,width:.15,height:.15}},{type:"static",position:{x:11.25,y:18},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"box",rotation:.7853981633974483,width:.15,height:.15}},{type:"static",position:{x:13.25,y:18},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"box",rotation:.7853981633974483,width:.15,height:.15}},{type:"static",position:{x:15.25,y:18},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"box",rotation:.7853981633974483,width:.15,height:.15}},{type:"static",position:{x:10.5,y:19},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"box",rotation:.7853981633974483,width:.15,height:.15}},{type:"static",position:{x:12.5,y:19},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"box",rotation:.7853981633974483,width:.15,height:.15}},{type:"static",position:{x:14.5,y:19},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"box",rotation:.7853981633974483,width:.15,height:.15}},{type:"static",position:{x:16.5,y:19},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"box",rotation:.7853981633974483,width:.15,height:.15}},{type:"static",position:{x:9.25,y:20},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"box",rotation:.7853981633974483,width:.15,height:.15}},{type:"static",position:{x:11.25,y:20},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"box",rotation:.7853981633974483,width:.15,height:.15}},{type:"static",position:{x:13.25,y:20},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"box",rotation:.7853981633974483,width:.15,height:.15}},{type:"static",position:{x:15.25,y:20},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"box",rotation:.7853981633974483,width:.15,height:.15}},{type:"static",position:{x:10.5,y:21},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"box",rotation:.7853981633974483,width:.15,height:.15}},{type:"static",position:{x:12.5,y:21},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"box",rotation:.7853981633974483,width:.15,height:.15}},{type:"static",position:{x:14.5,y:21},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"box",rotation:.7853981633974483,width:.15,height:.15}},{type:"static",position:{x:16.5,y:21},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"box",rotation:.7853981633974483,width:.15,height:.15}},{type:"static",position:{x:9.25,y:22},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"box",rotation:.7853981633974483,width:.15,height:.15}},{type:"static",position:{x:11.25,y:22},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"box",rotation:.7853981633974483,width:.15,height:.15}},{type:"static",position:{x:13.25,y:22},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"box",rotation:.7853981633974483,width:.15,height:.15}},{type:"static",position:{x:15.25,y:22},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"box",rotation:.7853981633974483,width:.15,height:.15}},{type:"static",position:{x:10.5,y:23},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"box",rotation:.7853981633974483,width:.15,height:.15}},{type:"static",position:{x:12.5,y:23},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"box",rotation:.7853981633974483,width:.15,height:.15}},{type:"static",position:{x:14.5,y:23},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"box",rotation:.7853981633974483,width:.15,height:.15}},{type:"static",position:{x:16.5,y:23},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"box",rotation:.7853981633974483,width:.15,height:.15}},{type:"static",position:{x:9.400000000000002,y:39},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"box",rotation:.7853981633974483,width:3,height:3}},{type:"static",position:{x:16.5,y:43},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"box",rotation:.7853981633974483,width:3,height:3}},{type:"kinematic",position:{x:10.7,y:10},props:{angularVelocity:10,density:1,restitution:0},shape:{type:"box",rotation:0,width:.5,height:.1}},{type:"kinematic",position:{x:14.7,y:10},props:{angularVelocity:-10,density:1,restitution:0},shape:{type:"box",rotation:0,width:.5,height:.1}},{type:"kinematic",position:{x:12.7,y:10},props:{angularVelocity:10,density:1,restitution:0},shape:{type:"box",rotation:0,width:.5,height:.1}},{type:"kinematic",position:{x:10.7,y:14},props:{angularVelocity:-3,density:1,restitution:0},shape:{type:"box",rotation:0,width:2,height:.1}},{type:"kinematic",position:{x:14.7,y:14},props:{angularVelocity:3,density:1,restitution:0},shape:{type:"box",rotation:0,width:2,height:.1}},{type:"kinematic",position:{x:11.2,y:44},props:{angularVelocity:-5,density:1,restitution:0},shape:{type:"box",rotation:0,width:.5,height:.1}},{type:"kinematic",position:{x:10.3,y:75},props:{angularVelocity:8,density:1,restitution:0},shape:{type:"box",rotation:0,width:1,height:.1}},{type:"kinematic",position:{x:15.462132034355964,y:75},props:{angularVelocity:-8,density:1,restitution:0},shape:{type:"box",rotation:0,width:1,height:.1}},{type:"static",position:{x:11,y:65},props:{angularVelocity:0,density:1,restitution:1.5,life:1},shape:{type:"circle",radius:.5}},{type:"static",position:{x:13,y:65},props:{angularVelocity:0,density:1,restitution:1.5,life:1},shape:{type:"circle",radius:.5}},{type:"static",position:{x:15,y:65},props:{angularVelocity:0,density:1,restitution:1.5,life:1},shape:{type:"circle",radius:.5}},{type:"static",position:{x:12,y:67.5},props:{angularVelocity:0,density:1,restitution:1.5,life:1},shape:{type:"circle",radius:.5}},{type:"static",position:{x:14,y:67.5},props:{angularVelocity:0,density:1,restitution:1.5,life:1},shape:{type:"circle",radius:.5}},{type:"static",position:{x:13,y:69.77058813837772},props:{angularVelocity:0,density:1,restitution:1.5,life:1},shape:{type:"circle",radius:.8}},{type:"static",position:{x:10.7,y:77.5},props:{angularVelocity:0,density:1,restitution:1.5,life:1},shape:{type:"circle",radius:.8}},{type:"static",position:{x:14.7,y:77.5},props:{angularVelocity:0,density:1,restitution:1.5,life:1},shape:{type:"circle",radius:.8}},{type:"static",position:{x:12.625,y:80},props:{angularVelocity:0,density:1,restitution:1.5,life:1},shape:{type:"circle",radius:1.5}},{type:"static",position:{x:12.625,y:80},props:{angularVelocity:0,density:1,restitution:1.5,life:1},shape:{type:"circle",radius:1.2}},{type:"kinematic",position:{x:12.625,y:56.00000000000001},props:{angularVelocity:-8,density:1,restitution:0},shape:{type:"box",rotation:0,width:1,height:.1}},{type:"static",position:{x:9.947604593262161,y:62.59581680393866},props:{angularVelocity:0,density:1,restitution:1.5,life:1},shape:{type:"circle",radius:.5}},{type:"static",position:{x:11.947604593262161,y:62.59581680393866},props:{angularVelocity:0,density:1,restitution:1.5,life:1},shape:{type:"circle",radius:.5}},{type:"static",position:{x:13.947604593262161,y:62.59581680393866},props:{angularVelocity:0,density:1,restitution:1.5,life:1},shape:{type:"circle",radius:.5}},{type:"static",position:{x:15.828283102570442,y:62.59581680393866},props:{angularVelocity:0,density:1,restitution:1.5,life:1},shape:{type:"circle",radius:.5}}]},{title:"Pot of greed",goalY:111,zoomY:110,entities:[{type:"static",position:{x:0,y:0},props:{density:1,angularVelocity:0,restitution:0},shape:{type:"polyline",rotation:0,points:[[17,-300],[9,-300],[9,8.5],[2,15],[6,61.5]]}},{type:"static",position:{x:0,y:0},props:{density:1,angularVelocity:0,restitution:0},shape:{type:"polyline",rotation:0,points:[[7,71],[9,101],[8,100.5],[6,100],[5,90],[4,70],[7,71]]}},{type:"static",position:{x:0,y:0},props:{density:1,angularVelocity:0,restitution:0},shape:{type:"polyline",rotation:0,points:[[17,-300],[17,8.5],[24,15],[20,61.5]]}},{type:"static",position:{x:0,y:0},props:{density:1,angularVelocity:0,restitution:0},shape:{type:"polyline",rotation:0,points:[[19,71],[17,101],[18,100.5],[20,100],[21,90],[22,70],[19,71]]}},{type:"static",position:{x:0,y:0},props:{density:1,angularVelocity:0,restitution:0},shape:{type:"polyline",rotation:0,points:[[11,88],[12,90],[12,112]]}},{type:"static",position:{x:0,y:0},props:{density:1,angularVelocity:0,restitution:0},shape:{type:"polyline",rotation:0,points:[[15,88],[14,90],[14,112]]}},{type:"static",position:{x:0,y:0},props:{density:1,angularVelocity:0,restitution:0},shape:{type:"polyline",rotation:0,points:[[12,102],[11,103],[9,104],[8,104],[6,103],[5,102],[4,100],[3,90],[2,70],[3,65],[4,63],[5,62],[6,61.5]]}},{type:"static",position:{x:0,y:0},props:{density:1,angularVelocity:0,restitution:0},shape:{type:"polyline",rotation:0,points:[[14,102],[15,103],[17,104],[18,104],[20,103],[21,102],[22,100],[23,90],[24,70],[23,65],[22,63],[21,62],[20,61.5]]}},{position:{x:13,y:20},type:"static",shape:{type:"box",width:3,height:3,rotation:.7853981633974483},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:13,y:55},type:"static",shape:{type:"box",width:3,height:3,rotation:.7853981633974483},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:8,y:37},type:"static",shape:{type:"box",width:2,height:2,rotation:.7853981633974483},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:18,y:37},type:"static",shape:{type:"box",width:2,height:2,rotation:.7853981633974483},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:11,y:12},type:"kinematic",shape:{type:"box",width:2,height:.1,rotation:0},props:{density:1,angularVelocity:-3,restitution:0}},{position:{x:15,y:12},type:"kinematic",shape:{type:"box",width:2,height:.1,rotation:0},props:{density:1,angularVelocity:3,restitution:0}},{position:{x:8,y:104},type:"kinematic",shape:{type:"box",width:1,height:.1,rotation:0},props:{density:1,angularVelocity:-10,restitution:0}},{position:{x:6,y:103},type:"kinematic",shape:{type:"box",width:1.5,height:.1,rotation:0},props:{density:1,angularVelocity:-10,restitution:0}},{position:{x:4,y:100},type:"kinematic",shape:{type:"box",width:1.5,height:.1,rotation:0},props:{density:1,angularVelocity:-10,restitution:0}},{position:{x:3.5,y:95},type:"kinematic",shape:{type:"box",width:2,height:.1,rotation:0},props:{density:1,angularVelocity:-10,restitution:0}},{position:{x:3,y:90},type:"kinematic",shape:{type:"box",width:2,height:.1,rotation:0},props:{density:1,angularVelocity:-10,restitution:0}},{position:{x:2.75,y:85},type:"kinematic",shape:{type:"box",width:2,height:.1,rotation:0},props:{density:1,angularVelocity:-10,restitution:0}},{position:{x:2.5,y:80},type:"kinematic",shape:{type:"box",width:2,height:.1,rotation:0},props:{density:1,angularVelocity:-10,restitution:0}},{position:{x:2.25,y:75},type:"kinematic",shape:{type:"box",width:2,height:.1,rotation:0},props:{density:1,angularVelocity:-10,restitution:0}},{position:{x:2,y:70},type:"kinematic",shape:{type:"box",width:2,height:.1,rotation:0},props:{density:1,angularVelocity:-10,restitution:0}},{position:{x:18,y:104},type:"kinematic",shape:{type:"box",width:1,height:.1,rotation:0},props:{density:1,angularVelocity:10,restitution:0}},{position:{x:20,y:103},type:"kinematic",shape:{type:"box",width:1.5,height:.1,rotation:0},props:{density:1,angularVelocity:10,restitution:0}},{position:{x:22,y:100},type:"kinematic",shape:{type:"box",width:1.5,height:.1,rotation:0},props:{density:1,angularVelocity:10,restitution:0}},{position:{x:22.5,y:95},type:"kinematic",shape:{type:"box",width:2,height:.1,rotation:0},props:{density:1,angularVelocity:10,restitution:0}},{position:{x:23,y:90},type:"kinematic",shape:{type:"box",width:2,height:.1,rotation:0},props:{density:1,angularVelocity:10,restitution:0}},{position:{x:23.25,y:85},type:"kinematic",shape:{type:"box",width:2,height:.1,rotation:0},props:{density:1,angularVelocity:10,restitution:0}},{position:{x:23.5,y:80},type:"kinematic",shape:{type:"box",width:2,height:.1,rotation:0},props:{density:1,angularVelocity:10,restitution:0}},{position:{x:23.75,y:75},type:"kinematic",shape:{type:"box",width:2,height:.1,rotation:0},props:{density:1,angularVelocity:10,restitution:0}},{position:{x:24,y:70},type:"kinematic",shape:{type:"box",width:2,height:.1,rotation:0},props:{density:1,angularVelocity:10,restitution:0}}]},{title:"Yoru ni Kakeru",goalY:248,zoomY:234.5,entities:[{position:{x:2,y:0},shape:{type:"box",width:1,height:800,rotation:0,color:"#222",bloomColor:"#777"},type:"static",props:{density:500,angularVelocity:0,restitution:0}},{type:"static",position:{x:21,y:0},props:{density:500,angularVelocity:0,restitution:0},shape:{type:"box",rotation:0,width:1,height:800,color:"#222",bloomColor:"#777"}},{position:{x:4,y:25},shape:{type:"box",width:.2,height:.2,rotation:-45,color:"#818fb4"},type:"static",props:{density:1,angularVelocity:0,restitution:1}},{position:{x:4,y:30},type:"static",shape:{type:"box",width:.2,height:.2,rotation:-45,color:"#818fb4"},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:4,y:35},type:"static",shape:{type:"box",width:.2,height:.2,rotation:-45,color:"#818fb4"},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:4,y:40},type:"static",shape:{type:"box",width:.2,height:.2,rotation:-45,color:"#818fb4"},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:9,y:25},type:"static",shape:{type:"box",width:.2,height:.2,rotation:-45,color:"#818fb4"},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:9,y:30},type:"static",shape:{type:"box",width:.2,height:.2,rotation:-45,color:"#818fb4"},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:9,y:35},type:"static",shape:{type:"box",width:.2,height:.2,rotation:-45,color:"#818fb4"},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:9,y:40},type:"static",shape:{type:"box",width:.2,height:.2,rotation:-45,color:"#818fb4"},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:14,y:25},type:"static",shape:{type:"box",width:.2,height:.2,rotation:-45,color:"#818fb4"},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:14,y:30},type:"static",shape:{type:"box",width:.2,height:.2,rotation:-45,color:"#818fb4"},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:14,y:35},type:"static",shape:{type:"box",width:.2,height:.2,rotation:-45,color:"#818fb4"},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:14,y:40},type:"static",shape:{type:"box",width:.2,height:.2,rotation:-45,color:"#818fb4"},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:19,y:25},type:"static",shape:{type:"box",width:.2,height:.2,rotation:-45,color:"#818fb4"},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:19,y:30},type:"static",shape:{type:"box",width:.2,height:.2,rotation:-45,color:"#818fb4"},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:19,y:35},type:"static",shape:{type:"box",width:.2,height:.2,rotation:-45,color:"#818fb4"},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:19,y:40},type:"static",shape:{type:"box",width:.2,height:.2,rotation:-45,color:"#818fb4"},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:6.5,y:27.5},type:"kinematic",shape:{type:"box",width:2,height:.1,rotation:0,color:"#9bec00"},props:{density:1,angularVelocity:2,restitution:0}},{position:{x:6.5,y:37.5},type:"kinematic",shape:{type:"box",width:2,height:.1,rotation:0,color:"#ff6868"},props:{density:1,angularVelocity:2,restitution:0}},{position:{x:11.5,y:32.5},type:"kinematic",shape:{type:"box",width:2,height:.1,rotation:0,color:"#80b3ff"},props:{density:2,angularVelocity:4,restitution:0}},{position:{x:16.5,y:27.5},type:"kinematic",shape:{type:"box",width:2,height:.1,rotation:0,color:"#ff6868"},props:{density:1,angularVelocity:-2,restitution:0}},{position:{x:16.5,y:37.5},type:"kinematic",shape:{type:"box",width:2,height:.1,rotation:0,color:"#9bec00"},props:{density:1,angularVelocity:-2,restitution:0}},{position:{x:10,y:26},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:11.5,y:26},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:13,y:26},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:10,y:27.5},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:11.5,y:27.5},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:13,y:27.5},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:10,y:29},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:11.5,y:29},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:13,y:29},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:5,y:31},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:6.5,y:31},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:8,y:31},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:5,y:32.5},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:6.5,y:32.5},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:8,y:32.5},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:5,y:34},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:6.5,y:34},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:8,y:34},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:15,y:31},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:16.5,y:31},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:18,y:31},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:15,y:32.5},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:16.5,y:32.5},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:18,y:32.5},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:15,y:34},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:16.5,y:34},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:18,y:34},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:10,y:36},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:11.5,y:36},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:13,y:36},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:10,y:37.5},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:11.5,y:37.5},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:13,y:37.5},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:10,y:39},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:11.5,y:39},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:13,y:39},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:11.5,y:50},type:"kinematic",shape:{type:"box",width:6.5,height:.1,rotation:0,color:"#5c5470"},props:{density:1,angularVelocity:-2,restitution:0}},{position:{x:3.5,y:60},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:5,y:60},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:6.5,y:60},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:8,y:60},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:9.5,y:60},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:11,y:60},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:12.5,y:60},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:14,y:60},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:15.5,y:60},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:17,y:60},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:18.5,y:60},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:20,y:60},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:3,y:63},type:"static",shape:{type:"circle",radius:.5,color:"#ffe227"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:4.5,y:63},type:"static",shape:{type:"circle",radius:.5,color:"#ffe227"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:6,y:63},type:"static",shape:{type:"circle",radius:.5,color:"#ffe227"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:7.5,y:63},type:"static",shape:{type:"circle",radius:.5,color:"#ffe227"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:9,y:63},type:"static",shape:{type:"circle",radius:.5,color:"#ffe227"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:10.5,y:63},type:"static",shape:{type:"circle",radius:.5,color:"#ffe227"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:12,y:63},type:"static",shape:{type:"circle",radius:.5,color:"#ffe227"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:13.5,y:63},type:"static",shape:{type:"circle",radius:.5,color:"#ffe227"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:15,y:63},type:"static",shape:{type:"circle",radius:.5,color:"#ffe227"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:16.5,y:63},type:"static",shape:{type:"circle",radius:.5,color:"#ffe227"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:18,y:63},type:"static",shape:{type:"circle",radius:.5,color:"#ffe227"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:19.5,y:63},type:"static",shape:{type:"circle",radius:.5,color:"#ffe227"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:3.5,y:66},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:5,y:66},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:6.5,y:66},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:8,y:66},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:9.5,y:66},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:11,y:66},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:12.5,y:66},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:14,y:66},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:15.5,y:66},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:17,y:66},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:18.5,y:66},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:20,y:66},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:4.5,y:75},type:"kinematic",shape:{type:"box",width:4,height:.1,rotation:0,color:"#ff577f"},props:{density:1,angularVelocity:-4,restitution:0}},{position:{x:18.5,y:75},type:"kinematic",shape:{type:"box",width:4,height:.1,rotation:0,color:"#ff577f"},props:{density:1,angularVelocity:4,restitution:0}},{position:{x:3.8,y:90},type:"static",shape:{type:"box",width:.1,height:.1,rotation:-90,color:"#c7ffd8"},props:{density:1,angularVelocity:1,restitution:0}},{position:{x:19.2,y:90},type:"static",shape:{type:"box",width:.1,height:.1,rotation:-90,color:"#c7ffd8"},props:{density:1,angularVelocity:1,restitution:0}},{position:{x:5.8,y:92},type:"static",shape:{type:"box",width:.1,height:.1,rotation:-90,color:"#c7ffd8"},props:{density:1,angularVelocity:1.2,restitution:0}},{position:{x:17.2,y:92},type:"static",shape:{type:"box",width:.1,height:.1,rotation:-90,color:"#c7ffd8"},props:{density:1,angularVelocity:1.2,restitution:0}},{position:{x:7.8,y:94},type:"static",shape:{type:"box",width:.1,height:.1,rotation:-90,color:"#c7ffd8"},props:{density:1,angularVelocity:1.4,restitution:0}},{position:{x:15.2,y:94},type:"static",shape:{type:"box",width:.1,height:.1,rotation:-90,color:"#c7ffd8"},props:{density:1,angularVelocity:1.4,restitution:0}},{position:{x:9.8,y:96},type:"static",shape:{type:"box",width:.1,height:.1,rotation:-90,color:"#c7ffd8"},props:{density:1,angularVelocity:1.6,restitution:0}},{position:{x:13.2,y:96},type:"static",shape:{type:"box",width:.1,height:.1,rotation:-90,color:"#c7ffd8"},props:{density:1,angularVelocity:1.6,restitution:0}},{position:{x:3.8,y:94},type:"static",shape:{type:"box",width:.1,height:.1,rotation:-90,color:"#98ded9"},props:{density:1,angularVelocity:1.2,restitution:0}},{position:{x:19.2,y:94},type:"static",shape:{type:"box",width:.1,height:.1,rotation:-90,color:"#98ded9"},props:{density:1,angularVelocity:1.2,restitution:0}},{position:{x:5.8,y:96},type:"static",shape:{type:"box",width:.1,height:.1,rotation:-90,color:"#98ded9"},props:{density:1,angularVelocity:1.4,restitution:0}},{position:{x:17.2,y:96},type:"static",shape:{type:"box",width:.1,height:.1,rotation:-90,color:"#98ded9"},props:{density:1,angularVelocity:1.4,restitution:0}},{position:{x:7.8,y:98},type:"static",shape:{type:"box",width:.1,height:.1,rotation:-90,color:"#98ded9"},props:{density:1,angularVelocity:1.6,restitution:0}},{position:{x:15.2,y:98},type:"static",shape:{type:"box",width:.1,height:.1,rotation:-90,color:"#98ded9"},props:{density:1,angularVelocity:1.6,restitution:0}},{position:{x:9.8,y:100},type:"static",shape:{type:"box",width:.1,height:.1,rotation:-90,color:"#98ded9"},props:{density:1,angularVelocity:1.8,restitution:0}},{position:{x:13.2,y:100},type:"static",shape:{type:"box",width:.1,height:.1,rotation:-90,color:"#98ded9"},props:{density:1,angularVelocity:1.8,restitution:0}},{position:{x:10,y:90},type:"static",shape:{type:"circle",radius:.5,color:"#ffe3fe"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:12,y:90},type:"static",shape:{type:"circle",radius:.5,color:"#ffe3fe"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:8,y:92},type:"static",shape:{type:"circle",radius:.5,color:"#ffe3fe"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:14,y:92},type:"static",shape:{type:"circle",radius:.5,color:"#ffe3fe"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:6,y:94},type:"static",shape:{type:"circle",radius:.5,color:"#ffe3fe"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:16,y:94},type:"static",shape:{type:"circle",radius:.5,color:"#ffe3fe"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:4,y:96},type:"static",shape:{type:"circle",radius:.5,color:"#ffe3fe"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:18,y:96},type:"static",shape:{type:"circle",radius:.5,color:"#ffe3fe"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:10,y:94},type:"static",shape:{type:"circle",radius:.5,color:"#ff94cc"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:12,y:94},type:"static",shape:{type:"circle",radius:.5,color:"#ff94cc"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:8,y:96},type:"static",shape:{type:"circle",radius:.5,color:"#ff94cc"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:14,y:96},type:"static",shape:{type:"circle",radius:.5,color:"#ff94cc"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:6,y:98},type:"static",shape:{type:"circle",radius:.5,color:"#ff94cc"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:16,y:98},type:"static",shape:{type:"circle",radius:.5,color:"#ff94cc"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:4,y:100},type:"static",shape:{type:"circle",radius:.5,color:"#ff94cc"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:18,y:100},type:"static",shape:{type:"circle",radius:.5,color:"#ff94cc"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:4.5,y:100},type:"kinematic",shape:{type:"box",width:5,height:.1,rotation:0,color:"#5c8374"},props:{density:1,angularVelocity:-2.5,restitution:0}},{position:{x:18.5,y:100},type:"kinematic",shape:{type:"box",width:5,height:.1,rotation:0,color:"#5c8374"},props:{density:1,angularVelocity:2.5,restitution:0}},{position:{x:3.8,y:104},type:"static",shape:{type:"box",width:.1,height:.1,rotation:-90,color:"#c7ffd8"},props:{density:1,angularVelocity:1.4,restitution:0}},{position:{x:19.2,y:104},type:"static",shape:{type:"box",width:.1,height:.1,rotation:-90,color:"#c7ffd8"},props:{density:1,angularVelocity:1.4,restitution:0}},{position:{x:5.8,y:106},type:"static",shape:{type:"box",width:.1,height:.1,rotation:-90,color:"#c7ffd8"},props:{density:1,angularVelocity:1.6,restitution:0}},{position:{x:17.2,y:106},type:"static",shape:{type:"box",width:.1,height:.1,rotation:-90,color:"#c7ffd8"},props:{density:1,angularVelocity:1.6,restitution:0}},{position:{x:7.8,y:108},type:"static",shape:{type:"box",width:.1,height:.1,rotation:-90,color:"#c7ffd8"},props:{density:1,angularVelocity:1.8,restitution:0}},{position:{x:15.2,y:108},type:"static",shape:{type:"box",width:.1,height:.1,rotation:-90,color:"#c7ffd8"},props:{density:1,angularVelocity:1.8,restitution:0}},{position:{x:9.8,y:110},type:"static",shape:{type:"box",width:.1,height:.1,rotation:-90,color:"#c7ffd8"},props:{density:1,angularVelocity:2,restitution:0}},{position:{x:13.2,y:110},type:"static",shape:{type:"box",width:.1,height:.1,rotation:-90,color:"#c7ffd8"},props:{density:1,angularVelocity:2,restitution:0}},{position:{x:3.8,y:108},type:"static",shape:{type:"box",width:.1,height:.1,rotation:-90,color:"#98ded9"},props:{density:1,angularVelocity:1.6,restitution:0}},{position:{x:19.2,y:108},type:"static",shape:{type:"box",width:.1,height:.1,rotation:-90,color:"#98ded9"},props:{density:1,angularVelocity:1.6,restitution:0}},{position:{x:5.8,y:110},type:"static",shape:{type:"box",width:.1,height:.1,rotation:-90,color:"#98ded9"},props:{density:1,angularVelocity:1.8,restitution:0}},{position:{x:17.2,y:110},type:"static",shape:{type:"box",width:.1,height:.1,rotation:-90,color:"#98ded9"},props:{density:1,angularVelocity:1.8,restitution:0}},{position:{x:7.8,y:112},type:"static",shape:{type:"box",width:.1,height:.1,rotation:-90,color:"#98ded9"},props:{density:1,angularVelocity:2,restitution:0}},{position:{x:15.2,y:112},type:"static",shape:{type:"box",width:.1,height:.1,rotation:-90,color:"#98ded9"},props:{density:1,angularVelocity:2,restitution:0}},{position:{x:9.8,y:114},type:"static",shape:{type:"box",width:.1,height:.1,rotation:-90,color:"#98ded9"},props:{density:1,angularVelocity:2.2,restitution:0}},{position:{x:13.2,y:114},type:"static",shape:{type:"box",width:.1,height:.1,rotation:-90,color:"#98ded9"},props:{density:1,angularVelocity:2.2,restitution:0}},{position:{x:3.5,y:105},type:"static",shape:{type:"circle",radius:.5,color:"#edeef7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:19.5,y:105},type:"static",shape:{type:"circle",radius:.5,color:"#edeef7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:3.5,y:107},type:"static",shape:{type:"circle",radius:.5,color:"#edeef7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:19.5,y:107},type:"static",shape:{type:"circle",radius:.5,color:"#edeef7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:5.5,y:107},type:"static",shape:{type:"circle",radius:.5,color:"#edeef7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:17.5,y:107},type:"static",shape:{type:"circle",radius:.5,color:"#edeef7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:3.5,y:109},type:"static",shape:{type:"circle",radius:.5,color:"#edeef7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:19.5,y:109},type:"static",shape:{type:"circle",radius:.5,color:"#edeef7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:5.5,y:109},type:"static",shape:{type:"circle",radius:.5,color:"#edeef7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:17.5,y:109},type:"static",shape:{type:"circle",radius:.5,color:"#edeef7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:7.5,y:109},type:"static",shape:{type:"circle",radius:.5,color:"#edeef7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:15.5,y:109},type:"static",shape:{type:"circle",radius:.5,color:"#edeef7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:5.5,y:115},type:"static",shape:{type:"circle",radius:.4,color:"#e6176d"},props:{angularVelocity:0,density:1,restitution:1.5,life:5}},{position:{x:17.5,y:115},type:"static",shape:{type:"circle",radius:.4,color:"#e6176d"},props:{angularVelocity:0,density:1,restitution:1.5,life:5}},{position:{x:5.5,y:115},type:"static",shape:{type:"circle",radius:1.2,color:"#e64588"},props:{angularVelocity:0,density:1,restitution:1.5,life:4}},{position:{x:17.5,y:115},type:"static",shape:{type:"circle",radius:1.2,color:"#e64588"},props:{angularVelocity:0,density:1,restitution:1.5,life:4}},{position:{x:5.5,y:115},type:"static",shape:{type:"circle",radius:2,color:"#e673a3"},props:{angularVelocity:0,density:1,restitution:1.5,life:3}},{position:{x:17.5,y:115},type:"static",shape:{type:"circle",radius:2,color:"#e673a3"},props:{angularVelocity:0,density:1,restitution:1.5,life:3}},{position:{x:5.5,y:115},type:"static",shape:{type:"circle",radius:2.8,color:"#e6a1bd"},props:{angularVelocity:0,density:1,restitution:1.5,life:2}},{position:{x:17.5,y:115},type:"static",shape:{type:"circle",radius:2.8,color:"#e6a1bd"},props:{angularVelocity:0,density:1,restitution:1.5,life:2}},{position:{x:5.5,y:115},type:"static",shape:{type:"circle",radius:3.8,color:"#e6cfd8"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:17.5,y:115},type:"static",shape:{type:"circle",radius:3.8,color:"#e6cfd8"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:11.5,y:120},type:"static",shape:{type:"circle",radius:.4,color:"#e6176d"},props:{angularVelocity:0,density:1,restitution:1.5,life:5}},{position:{x:11.5,y:120},type:"static",shape:{type:"circle",radius:1.2,color:"#e64588"},props:{angularVelocity:0,density:1,restitution:1.5,life:4}},{position:{x:11.5,y:120},type:"static",shape:{type:"circle",radius:2,color:"#e673a3"},props:{angularVelocity:0,density:1,restitution:1.5,life:3}},{position:{x:11.5,y:120},type:"static",shape:{type:"circle",radius:2.8,color:"#e6a1bd"},props:{angularVelocity:0,density:1,restitution:1.5,life:2}},{position:{x:11.5,y:120},type:"static",shape:{type:"circle",radius:3.8,color:"#e6cfd8"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:4.5,y:130},type:"kinematic",shape:{type:"box",width:5,height:.1,rotation:0,color:"#435585"},props:{density:1,angularVelocity:.25,restitution:0}},{position:{x:18.5,y:130},type:"kinematic",shape:{type:"box",width:5,height:.1,rotation:0,color:"#5c8374"},props:{density:1,angularVelocity:-.32,restitution:0}},{position:{x:4.5,y:140},type:"kinematic",shape:{type:"box",width:4,height:.1,rotation:30,color:"#610c9f"},props:{density:1,angularVelocity:.32,restitution:0}},{position:{x:18.5,y:140},type:"kinematic",shape:{type:"box",width:4,height:.1,rotation:-30,color:"#872341"},props:{density:1,angularVelocity:-.32,restitution:0}},{position:{x:4.5,y:150},type:"kinematic",shape:{type:"box",width:5,height:.1,rotation:60,color:"#503c3c"},props:{density:1,angularVelocity:.32,restitution:0}},{position:{x:18.5,y:150},type:"kinematic",shape:{type:"box",width:5,height:.1,rotation:-60,color:"#5c5470"},props:{density:1,angularVelocity:-.32,restitution:0}},{position:{x:4.5,y:160},type:"kinematic",shape:{type:"box",width:4,height:.1,rotation:90,color:"#1a3636"},props:{density:1,angularVelocity:.32,restitution:0}},{position:{x:18.5,y:160},type:"kinematic",shape:{type:"box",width:4,height:.1,rotation:-90,color:"#522258"},props:{density:1,angularVelocity:-.32,restitution:0}},{position:{x:3.5,y:135},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:4.5,y:135},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:5.5,y:135},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:6.5,y:135},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:7.5,y:135},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:8.5,y:135},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:9.5,y:135},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:10.5,y:135},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:11.5,y:135},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:12.5,y:135},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:13.5,y:135},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:14.5,y:135},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:15.5,y:135},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:16.5,y:135},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:17.5,y:135},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:18.5,y:135},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:19.5,y:135},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:3.5,y:140},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:4.5,y:140},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:5.5,y:140},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:6.5,y:140},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:7.5,y:140},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:8.5,y:140},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:9.5,y:140},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:10.5,y:140},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:11.5,y:140},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:12.5,y:140},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:13.5,y:140},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:14.5,y:140},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:15.5,y:140},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:16.5,y:140},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:17.5,y:140},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:18.5,y:140},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:19.5,y:140},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:3.5,y:144},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:4.5,y:144},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:5.5,y:144},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:6.5,y:144},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:7.5,y:144},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:8.5,y:144},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:9.5,y:144},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:10.5,y:144},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:11.5,y:144},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:12.5,y:144},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:13.5,y:144},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:14.5,y:144},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:15.5,y:144},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:16.5,y:144},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:17.5,y:144},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:18.5,y:144},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:19.5,y:144},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:3.5,y:147},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:4.5,y:147},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:5.5,y:147},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:6.5,y:147},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:7.5,y:147},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:8.5,y:147},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:9.5,y:147},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:10.5,y:147},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:11.5,y:147},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:12.5,y:147},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:13.5,y:147},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:14.5,y:147},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:15.5,y:147},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:16.5,y:147},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:17.5,y:147},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:18.5,y:147},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:19.5,y:147},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:3.5,y:149},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:4.5,y:149},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:5.5,y:149},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:6.5,y:149},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:7.5,y:149},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:8.5,y:149},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:9.5,y:149},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:10.5,y:149},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:11.5,y:149},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:12.5,y:149},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:13.5,y:149},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:14.5,y:149},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:15.5,y:149},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:16.5,y:149},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:17.5,y:149},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:18.5,y:149},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:19.5,y:149},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:3.5,y:150},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:4.5,y:150},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:5.5,y:150},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:6.5,y:150},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:7.5,y:150},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:8.5,y:150},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:9.5,y:150},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:10.5,y:150},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:11.5,y:150},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:12.5,y:150},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:13.5,y:150},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:14.5,y:150},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:15.5,y:150},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:16.5,y:150},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:17.5,y:150},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:18.5,y:150},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:19.5,y:150},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:4.5,y:180},type:"kinematic",shape:{type:"box",width:6,height:.1,rotation:0,color:"#ccb1b1"},props:{density:1,angularVelocity:4.6,restitution:0}},{position:{x:18.5,y:180},type:"kinematic",shape:{type:"box",width:7,height:.1,rotation:0,color:"#b1ccb1"},props:{density:1,angularVelocity:-4,restitution:0}},{position:{x:11.5,y:195},type:"kinematic",shape:{type:"box",width:8,height:.1,rotation:0,color:"#b3ccff"},props:{density:1,angularVelocity:5.5,restitution:0}}]}];class v{get zoom(){return this._zoom}set zoom(t){this._targetZoom=t}get x(){return this._position.x}set x(t){this._targetPosition.x=t}get y(){return this._position.y}set y(t){this._targetPosition.y=t}get position(){return this._position}setPosition(t,e=!1){return e?this._position={x:t.x,y:t.y}:this._targetPosition={x:t.x,y:t.y}}lock(t){this._locked=t}startFollowingMarbles(){this._shouldFollowMarbles=!0}initializePosition(){this._position={x:12.95,y:2},this._targetPosition={x:12.95,y:2},this._shouldFollowMarbles=!1}update({marbles:t,stage:e,needToZoom:i,targetIndex:s}){this._locked||this._calcTargetPositionAndZoom(t,e,i,s),this._position.x=this._interpolation(this.x,this._targetPosition.x),this._position.y=this._interpolation(this.y,this._targetPosition.y),this._zoom=this._interpolation(this._zoom,this._targetZoom)}_calcTargetPositionAndZoom(t,e,i,s){if(this._shouldFollowMarbles)if(t.length>0){let o=t[s]?t[s]:t[0];if(this.setPosition(o.position),i){let t=Math.abs(e.zoomY-this._position.y);this.zoom=Math.max(1,(1-t/5)*4)}else this.zoom=1}else this.zoom=1}_interpolation(t,e){let i=e-t;return .03333333333333333>Math.abs(i)?e:t+i/10}renderScene(t,e){let i=60*this._zoom;t.save(),t.translate(-this.x*this._zoom,-this.y*this._zoom),t.scale(this.zoom,this.zoom),t.translate(t.canvas.width/i,t.canvas.height/i),e(t),t.restore()}constructor(){this._position={x:0,y:0},this._targetPosition={x:0,y:0},this._zoom=1,this._targetZoom=1,this._locked=!1,this._shouldFollowMarbles=!1}}var R={};R=import.meta.resolve("cdgIR");var T={};T=import.meta.resolve("lfSvD");var M={};M=import.meta.resolve("9DwmV");var S={};S=import.meta.resolve("fkRhi");var B={};B=import.meta.resolve("9YLvj");var E={};E=import.meta.resolve("juMvj");class D{constructor(){this.sizeFactor=1,this._images={},this._theme=u.dark}get width(){return this._canvas.width}get height(){return this._canvas.height}get canvas(){return this._canvas}set theme(t){this._theme=t}async init(){await this._load(),this._canvas=document.createElement("canvas"),this._canvas.width=1600,this._canvas.height=900,this.ctx=this._canvas.getContext("2d",{alpha:!1}),document.body.appendChild(this._canvas);let t=t=>{let e=t?t[0].contentRect:this._canvas.getBoundingClientRect(),i=Math.max(e.width/2,640),s=i/e.width*e.height;this._canvas.width=i,this._canvas.height=s,this.sizeFactor=i/e.width};new ResizeObserver(t).observe(this._canvas),t()}async _loadImage(t){return new Promise(e=>{let i=new Image;i.addEventListener("load",()=>{e(i)}),i.src=t})}async _load(){let t=[{name:"챔루",imgUrl:new URL(R)},{name:"쿠빈",imgUrl:new URL(T)},{name:"꽉변",imgUrl:new URL(M)},{name:"꽉변호사",imgUrl:new URL(M)},{name:"꽉 변호사",imgUrl:new URL(M)},{name:"주누피",imgUrl:new URL(S)},{name:"왈도쿤",imgUrl:new URL(B)}].map(({name:t,imgUrl:e})=>(async()=>{this._images[t]=await this._loadImage(e.toString())})());t.push((async()=>{await this._loadImage(new URL(E).toString())})()),await Promise.all(t)}render(t,e){this._theme=t.theme,this.ctx.fillStyle=this._theme.background,this.ctx.fillRect(0,0,this._canvas.width,this._canvas.height),this.ctx.save(),this.ctx.scale(30,30),this.ctx.textAlign="left",this.ctx.textBaseline="top",this.ctx.font="0.4pt sans-serif",this.ctx.lineWidth=3/(t.camera.zoom+30),t.camera.renderScene(this.ctx,()=>{this.renderEntities(t.entities),this.renderEffects(t),this.renderMarbles(t)}),this.ctx.restore(),e.forEach(e=>e.render(this.ctx,t,this._canvas.width,this._canvas.height))}renderEntities(t){this.ctx.save(),t.forEach(t=>{let e=this.ctx.getTransform();this.ctx.translate(t.x,t.y),this.ctx.rotate(t.angle),this.ctx.fillStyle=t.shape.color??this._theme.entity[t.shape.type].fill,this.ctx.strokeStyle=t.shape.color??this._theme.entity[t.shape.type].outline,this.ctx.shadowBlur=this._theme.entity[t.shape.type].bloomRadius,this.ctx.shadowColor=t.shape.bloomColor??t.shape.color??this._theme.entity[t.shape.type].bloom;let i=t.shape;switch(i.type){case"polyline":if(i.points.length>0){this.ctx.beginPath(),this.ctx.moveTo(i.points[0][0],i.points[0][1]);for(let t=1;t<i.points.length;t++)this.ctx.lineTo(i.points[t][0],i.points[t][1]);this.ctx.stroke()}break;case"box":let s=2*i.width,o=2*i.height;this.ctx.rotate(i.rotation),this.ctx.fillRect(-s/2,-o/2,s,o),this.ctx.strokeRect(-s/2,-o/2,s,o);break;case"circle":this.ctx.beginPath(),this.ctx.arc(0,0,i.radius,0,2*Math.PI,!1),this.ctx.stroke()}this.ctx.setTransform(e)}),this.ctx.restore()}renderEffects({effects:t,camera:e}){t.forEach(t=>t.render(this.ctx,30*e.zoom,this._theme))}renderMarbles({marbles:t,camera:e,winnerRank:i,winners:s,size:o}){let r=i-s.length,a={x:e.x,y:e.y,w:o.x,h:o.y,zoom:30*e.zoom};t.forEach((t,i)=>{t.render(this.ctx,30*e.zoom,i===r,!1,this._images[t.name]||void 0,a,this._theme)})}renderWinner({winner:t,theme:e}){t&&(this.ctx.save(),this.ctx.fillStyle=e.winnerBackground,this.ctx.fillRect(this._canvas.width/2,this._canvas.height-168,this._canvas.width/2,168),this.ctx.fillStyle=e.winnerText,this.ctx.strokeStyle=e.winnerOutline,this.ctx.font="bold 48px sans-serif",this.ctx.textAlign="right",this.ctx.lineWidth=4,e.winnerOutline&&this.ctx.strokeText("Winner",this._canvas.width-10,this._canvas.height-120),this.ctx.fillText("Winner",this._canvas.width-10,this._canvas.height-120),this.ctx.font="bold 72px sans-serif",this.ctx.fillStyle=`hsl(${t.hue} 100% ${e.marbleLightness}`,e.winnerOutline&&this.ctx.strokeText(t.name,this._canvas.width-10,this._canvas.height-55),this.ctx.fillText(t.name,this._canvas.width-10,this._canvas.height-55),this.ctx.restore())}}class C{constructor(t,e){this._size=0,this._elapsed=0,this.isDestroy=!1,this.position={x:t,y:e}}update(t){this._elapsed+=t,this._size=this._elapsed/500*10,this._elapsed>500&&(this.isDestroy=!0)}render(t,e,i){t.save();let s=this._elapsed/500;t.globalAlpha=1-s*s,t.strokeStyle=i.skillColor,t.lineWidth=1/e,t.beginPath(),t.arc(this.position.x,this.position.y,this._size,0,2*Math.PI),t.stroke(),t.restore()}}function P(t,e,i){return{configurable:!0,get(){let t=i.value.bind(this);return Object.defineProperty(this,e,{value:t,configurable:!0,writable:!0}),t}}}class L{constructor(){this._currentY=0,this._targetY=0,this.fontHeight=16,this._userMoved=0,this._currentWinner=-1,this.maxY=0,this.winners=[],this.marbles=[],this.winnerRank=-1}onWheel(t){this._targetY+=t.deltaY,this._targetY>this.maxY&&(this._targetY=this.maxY),this._userMoved=2e3}onDblClick(t){if(t&&navigator.clipboard){let t=[],e=0;t.push(...[...this.winners,...this.marbles].map(t=>(e++,[e.toString(),t.name,e-1===this.winnerRank?"☆":""].join("	")))),t.unshift("Rank	Name	Winner"),navigator.clipboard.writeText(t.join("\n")).then(()=>{this.messageHandler&&this.messageHandler("The result has been copied")})}}onMessage(t){this.messageHandler=t}render(t,{winners:e,marbles:i,winnerRank:s,theme:o},r,a){let n=r-5,p=Math.max(-this.fontHeight,this._currentY-a/2);this.maxY=Math.max(0,(i.length+e.length)*this.fontHeight+this.fontHeight),this._currentWinner=e.length,this.winners=e,this.marbles=i,this.winnerRank=s,t.save(),t.textAlign="right",t.font="10pt sans-serif",t.fillStyle="#666",t.fillText(`${e.length} / ${e.length+i.length}`,r-5,this.fontHeight),t.beginPath(),t.rect(r-150,this.fontHeight+2,r,this.maxY),t.clip(),t.translate(0,-p),t.font="bold 11pt sans-serif",o.rankStroke&&(t.lineWidth=2,t.strokeStyle=o.rankStroke),e.forEach((e,i)=>{let r=i*this.fontHeight;r>=p&&r<=p+t.canvas.height&&(t.fillStyle=`hsl(${e.hue} 100% ${o.marbleLightness}`,t.strokeText(`${i===s?"☆":"✔"} ${e.name} #${i+1}`,n,20+r),t.fillText(`${i===s?"☆":"✔"} ${e.name} #${i+1}`,n,20+r))}),t.font="10pt sans-serif",i.forEach((i,s)=>{let r=(s+e.length)*this.fontHeight;r>=p&&r<=p+t.canvas.height&&(t.fillStyle=`hsl(${i.hue} 100% ${o.marbleLightness}`,t.strokeText(`${i.name} #${s+1+e.length}`,n,20+r),t.fillText(`${i.name} #${s+1+e.length}`,n,20+r))}),t.restore()}update(t){-1!==this._currentWinner&&(this._userMoved>0?this._userMoved-=t:this._targetY=this._currentWinner*this.fontHeight+this.fontHeight,this._currentY!==this._targetY&&(this._currentY+=(this._targetY-this._currentY)*(t/250)),1>Math.abs(this._currentY-this._targetY)&&(this._currentY=this._targetY))}getBoundingBox(){return null}}c([P],L.prototype,"onWheel",null),c([P],L.prototype,"onDblClick",null);class z{constructor(){this.lastParams=null,this._onViewportChangeHandler=null,this.mousePosition=null,this.boundingBox={x:10,y:10,w:104,h:0}}getBoundingBox(){return this.boundingBox}onViewportChange(t){this._onViewportChangeHandler=t}update(){}onMouseMove(t){if(!t){this.mousePosition=null,this._onViewportChangeHandler&&this._onViewportChangeHandler();return}this.lastParams&&(this.mousePosition={x:t.x,y:t.y},this._onViewportChangeHandler&&this._onViewportChangeHandler({x:this.mousePosition.x/4,y:this.mousePosition.y/4}))}render(t,e){if(!t)return;let{stage:i}=e;i&&(this.boundingBox.h=4*i.goalY,this.lastParams=e,this.ctx=t,t.save(),t.fillStyle=e.theme.minimapBackground,t.translate(10,10),t.scale(4,4),t.fillRect(0,0,26,i.goalY),this.ctx.lineWidth=3/(e.camera.zoom+30),this.drawEntities(e.entities,e.theme),this.drawMarbles(e),this.drawViewport(e),t.restore(),t.save(),t.strokeStyle="green",t.lineWidth=1,t.strokeRect(this.boundingBox.x,this.boundingBox.y,this.boundingBox.w,this.boundingBox.h),t.restore())}drawViewport(t){this.ctx.save();let{camera:e,size:i}=t,s=30*e.zoom,o=i.x/s,r=i.y/s;this.ctx.strokeStyle=t.theme.minimapViewport,this.ctx.lineWidth=1/s,this.ctx.strokeRect(e.x-o/2,e.y-r/2,o,r),this.ctx.restore()}drawEntities(t,e){this.ctx.save(),t.forEach(t=>{this.ctx.save(),this.ctx.fillStyle=t.shape.color??e.entity[t.shape.type].fill,this.ctx.strokeStyle=t.shape.color??e.entity[t.shape.type].outline,this.ctx.translate(t.x,t.y),this.ctx.rotate(t.angle),this.ctx.save();let i=t.shape;switch(i.type){case"box":let s=2*i.width,o=2*i.height;this.ctx.rotate(i.rotation),this.ctx.fillRect(-s/2,-o/2,s,o);break;case"circle":this.ctx.beginPath(),this.ctx.arc(0,0,i.radius,0,2*Math.PI,!1),this.ctx.stroke();break;case"polyline":if(i.points.length>0){this.ctx.beginPath(),this.ctx.moveTo(i.points[0][0],i.points[0][1]);for(let t=1;t<i.points.length;t++)this.ctx.lineTo(i.points[t][0],i.points[t][1]);this.ctx.stroke()}}this.ctx.restore(),this.ctx.restore()}),this.ctx.restore()}drawMarbles(t){let{marbles:e}=t,i={x:t.camera.x,y:t.camera.y,w:t.size.x,h:t.size.y,zoom:30*t.camera.zoom};e.forEach(e=>{e.render(this.ctx,1,!1,!0,void 0,i,t.theme)})}}c([P],z.prototype,"onMouseMove",null);class I{constructor(t){this.chunks=[],this.stopping=!1,this.targetCanvas=t,this.videoStream=this.targetCanvas.captureStream(),this.mediaRecorder=new MediaRecorder(this.videoStream,{videoBitsPerSecond:6e6})}async start(){return this.stopping=!1,new Promise(t=>{this.chunks=[],this.mediaRecorder.ondataavailable=t=>{this.chunks.push(t.data)},this.mediaRecorder.onstop=()=>{let t=new Blob(this.chunks,{type:"video/mp4"}),e=URL.createObjectURL(t),i=document.createElement("a"),s=new Date;i.href=e,i.download=`marble_roulette_${s.getFullYear()}${x(s.getMonth()+1)}${x(s.getDate())}${x(s.getHours())}${x(s.getMinutes())}${x(s.getSeconds())}.mp4`,i.click(),i.remove(),URL.revokeObjectURL(e)},this.mediaRecorder.onstart=()=>{t()},this.mediaRecorder.start()})}stop(){this.stopping=!0,"recording"===this.mediaRecorder.state&&this.mediaRecorder.stop()}}var G=async(...t)=>{let e=WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])),{default:i}=await (e?a("iyjrR"):a("8ZFBQ"));return await i(...t)};class F{async init(){this.Box2D=await G(),this.gravity=new this.Box2D.b2Vec2(0,10),this.world=new this.Box2D.b2World(this.gravity),console.log("box2d ready")}clear(){this.clearEntities()}clearMarbles(){Object.values(this.marbleMap).forEach(t=>{this.world.DestroyBody(t)}),this.marbleMap={}}createStage(t){this.createEntities(t.entities)}createEntities(t){if(!t)return;let e={static:this.Box2D.b2_staticBody,kinematic:this.Box2D.b2_kinematicBody};t.forEach(t=>{let i,s=new this.Box2D.b2BodyDef;s.set_type(e[t.type]);let o=this.world.CreateBody(s),r=new this.Box2D.b2FixtureDef;switch(r.set_density(t.props.density),r.set_restitution(t.props.restitution),t.shape.type){case"box":(i=new this.Box2D.b2PolygonShape).SetAsBox(t.shape.width,t.shape.height,0,t.shape.rotation),r.set_shape(i),o.CreateFixture(r);break;case"polyline":i=new this.Box2D.b2EdgeShape;for(let e=0;e<t.shape.points.length-1;e++){let i=t.shape.points[e],s=t.shape.points[e+1],r=new this.Box2D.b2Vec2(i[0],i[1]),a=new this.Box2D.b2Vec2(s[0],s[1]),n=new this.Box2D.b2EdgeShape;n.SetTwoSided(r,a),o.CreateFixture(n,1)}break;case"circle":(i=new this.Box2D.b2CircleShape).set_m_radius(t.shape.radius),r.set_shape(i),o.CreateFixture(r)}o.SetAngularVelocity(t.props.angularVelocity),o.SetTransform(new this.Box2D.b2Vec2(t.position.x,t.position.y),0),this.entities.push({body:o,x:t.position.x,y:t.position.y,angle:0,shape:t.shape,life:t.props.life??-1})})}clearEntities(){this.entities.forEach(t=>{this.world.DestroyBody(t.body)}),this.entities=[]}createMarble(t,e,i){let s=new this.Box2D.b2CircleShape;s.set_m_radius(.25);let o=new this.Box2D.b2BodyDef;o.set_type(this.Box2D.b2_dynamicBody),o.set_position(new this.Box2D.b2Vec2(e,i));let r=this.world.CreateBody(o);r.CreateFixture(s,1+Math.random()),r.SetAwake(!1),r.SetEnabled(!1),this.marbleMap[t]=r}shakeMarble(t){let e=this.marbleMap[t];e&&e.ApplyLinearImpulseToCenter(new this.Box2D.b2Vec2(10*Math.random()-5,10*Math.random()-5),!0)}removeMarble(t){let e=this.marbleMap[t];e&&(this.world.DestroyBody(e),delete this.marbleMap[t])}getMarblePosition(t){let e=this.marbleMap[t];if(!e)return{x:0,y:0,angle:0};{let t=e.GetPosition();return{x:t.x,y:t.y,angle:e.GetAngle()}}}getEntities(){return this.entities.map(t=>({...t,angle:t.body.GetAngle()}))}impact(t){let e=this.marbleMap[t];e&&Object.values(this.marbleMap).forEach(t=>{if(t===e)return;let i=new this.Box2D.b2Vec2(t.GetPosition().x,t.GetPosition().y);if(i.op_sub(e.GetPosition()),100>i.LengthSquared()){i.Normalize();let e=1-i.Length()/10;i.op_mul(e*e*5),t.ApplyLinearImpulseToCenter(i,!0)}})}start(){for(let t in this.marbleMap){let e=this.marbleMap[t];e.SetAwake(!0),e.SetEnabled(!0)}}step(t){this.deleteCandidates.forEach(t=>{this.world.DestroyBody(t)}),this.deleteCandidates=[],this.world.Step(t,6,2);for(let t=this.entities.length-1;t>=0;t--){let e=this.entities[t];if(e.life>0){let i=e.body.GetContactList();i.contact&&i.contact.IsTouching()&&(this.deleteCandidates.push(e.body),this.entities.splice(t,1))}}}constructor(){this.marbleMap={},this.entities=[],this.deleteCandidates=[]}}class Y{constructor(){this.bound={x:0,y:0,w:0,h:0},this.isEnabled=!1,this.icon=new Image,this.icon.src=new URL(E).toString()}get speed(){return this.isEnabled?Math.max(f.fastForwardSpeed,2):1}update(t){}render(t,e,i,s){this.bound.w=i/2,this.bound.h=s/2,this.bound.x=this.bound.w/2,this.bound.y=this.bound.h/2;let o=this.bound.x+this.bound.w/2,r=this.bound.y+this.bound.h/2;this.isEnabled&&(t.save(),t.strokeStyle="white",t.globalAlpha=.5,t.drawImage(this.icon,o-100,r-100,200,200),t.restore())}getBoundingBox(){return this.bound}onMouseDown(t){this.isEnabled=!0}onMouseUp(t){this.isEnabled=!1}}class A{setIndex(t){this._index=t}setName(t){this._name=t}setMembers(t){let e=t.trim();e?this._members=e.split(/[,\r\n]/g).map(t=>t.trim()).filter(t=>!!t):this._members=[]}isMember(t){return this._members.includes(t.trim())}getName(){return this._name}getLength(){return this._members.length}getGroupStr(){return this._name.length>0?this._name+","+this._members.join(","):(this._index+1).toString()+","+this._members.join(",")}constructor(){this._index=0,this._name="",this._members=[]}}var W=((i=W||{})[i.FromTop=0]="FromTop",i[i.FixedLane=1]="FixedLane",i[i.Random=2]="Random",i);class U{constructor(){this._groups=[],this._laneType=0,this._laneGroups=[],this._winners="",this._teamResult=Array(10).fill(""),this._remainders=[],this._laneResult=[],this.fontHeight=16,this.lanes=["top","jg","mid","adc","sup"],this.resetTeamResult()}update(t){}render(t,{marbles:e,winners:i,theme:s},o,r){this.updateTeams(i,0===e.length);let a=o-75,n=r-9*this.fontHeight,p=7*this.fontHeight;t.save(),t.textAlign="center",t.font="10pt sans-serif",t.fillStyle="#666",t.beginPath(),t.rect(o-150,n,o,n+p),t.clip(),t.translate(0,n),t.font="bold 11pt sans-serif",s.rankStroke&&(t.lineWidth=2,t.strokeStyle=s.rankStroke);let l=y("Team Result");t.strokeText(l,a,20),t.fillText(l,a,20),t.font="bold 10pt sans-serif",t.fillStyle="#0000CD";let c=y("Blue");t.strokeText(c,a-35,40),t.fillText(c,a-35,40),t.fillStyle="#B22222";let h=y("Red");t.strokeText(h,a+35,40),t.fillText(h,a+35,40);let u=t=>{if(t.length>0){for(let e of i)if(e.name===t)return`hsl(${e.hue} 100% ${s.marbleLightness}`}return"#666"},d=t=>{if(1!==this._laneType)return"--";let e=this._laneGroups[t];if(-1===e)return"--";let i=this._groups[e].getName();return i.length>0?i:`${e+1}`},g=t=>{if(2!==this._laneType)return t;if(t<this._laneResult.length)return this._laneResult[t];let e=[,,,,,].fill(!1);for(let t of this._laneResult)e[t]=!0;let i=t-this._laneResult.length;for(let t=0;t<5;t++)if(!e[t]){if(0===i)return t;i--}return -1},x=t=>2!==this._laneType||this._laneResult.includes(t)?y(this.lanes[t]):"--";t.font="10pt sans-serif",t.fillStyle="#666";for(let e=0;e<5;e++){let i=g(e),s=58+i*this.fontHeight,o=this._teamResult[e].length>0?this._teamResult[e]:d(i),r=this._teamResult[e+5].length>0?this._teamResult[e+5]:d(i);t.fillStyle=u(this._teamResult[e]),t.strokeText(o,a-35,s),t.fillText(o,a-35,s);let n=x(i);t.fillStyle=u(n),t.strokeText(n,a,s),t.fillText(n,a,s),t.fillStyle=u(this._teamResult[e+5]),t.strokeText(r,a+35,s),t.fillText(r,a+35,s)}if(this._remainders.length>0){t.font="8pt sans-serif";let e=58+5*this.fontHeight,i=a-15*(this._remainders.length-1);for(let s of this._remainders)t.fillStyle=u(s),t.strokeText(s,i,e),t.fillText(s,i,e),i+=30}t.restore()}getBoundingBox(){return null}addGroup(){let t=new A;t.setIndex(this._groups.length),this._groups.push(t)}setGroupName(t,e){this._groups.length<=t||this._groups[t].setName(e)}setGroupMembers(t,e){this._groups.length<=t||this._groups[t].setMembers(e)}setLaneType(t){"fixed"===t?this._laneType=1:"random"===t?this._laneType=2:this._laneType=0}getExtraMarbles(){return 2===this._laneType?this.lanes.map(y):[]}getGroupIndex(t){for(let e=0;e<this._groups.length;e++)if(this._groups[e].isMember(t))return e;return console.log(`unknown member: ${t}`),-1}removeGroup(){this._groups.pop()}getGroupStr(){let t=[];for(let e of this._groups)t.push(e.getGroupStr());return t.join("/")}getGroups(){let t=[];for(let e of this._groups)t.push(e.getName());return t}setFixedLanes(t){this._laneGroups=[];let e=0;for(;e<t.length;e++)this._laneGroups.push(t[e])}updateTeams(t,e){if(0===t.length)return void this.resetTeamResult();let i=t.map(t=>t.name).join(",");if(i===this._winners)return;let s=this._winners.split(","),o=t.filter(t=>!s.includes(t.name));switch(this._winners=i,this._laneType){case 0:this.updateTeamsFromTop(o);break;case 1:this.updateTeamsWithFixedLane(o);break;case 2:this.updateTeamsInRandom(o);break;default:console.log("invalid lane type")}if(e){let t=0;for(let e=0;e<this._teamResult.length&&!(t>=this._remainders.length);e++)0===this._teamResult[e].length&&(this._teamResult[e]=this._remainders[t++]);this._remainders=this._remainders.slice(t)}}resetTeamResult(){0!==this._winners.length&&(this._winners="",this._teamResult=Array(10).fill(""),this._remainders=[],this._laneResult=[])}updateTeamsFromTop(t){let e=new Map;for(let t=0;t<5;t++){let i=this._teamResult[t];if(0===i.length)continue;let s=this.getGroupIndex(i),o=e.get(s);o?o.push(t):e.set(s,[t])}for(let i of t){let t=this.getGroupIndex(i.name),s=e.get(t),o=!0;if(s&&s.length>=this._groups[t].getLength()/2){for(let t of s)if(0===this._teamResult[t+5].length){this._teamResult[t+5]=i.name,o=!1;break}}else for(let r=0;r<5;r++)if(0===this._teamResult[r].length){this._teamResult[r]=i.name,o=!1,s?s.push(r):e.set(t,[r]);break}o&&this._remainders.push(i.name)}}isAvailableInFixedLane(t,e){return 1===this._laneType&&!(t>=10)&&(this._laneGroups.length<=t-5||(this._laneGroups.length<=t&&(t-=5),-1!==this._laneGroups[t]&&this._laneGroups[t]===this.getGroupIndex(e)))}updateTeamsWithFixedLane(t){for(let e of t){let t=!0;for(let i=0;i<10;i++)if(0===this._teamResult[i].length&&this.isAvailableInFixedLane(i,e.name)){this._teamResult[i]=e.name,t=!1;break}t&&this._remainders.push(e.name)}}updateTeamsInRandom(t){let e=this.lanes.map(y);this.updateTeamsFromTop(t.filter(t=>{let i=e.indexOf(t.name);return!(i>=0)||(this._laneResult.push(i),!1)}))}}class j extends EventTarget{get isReady(){return this._isReady}constructor(){super(),this._marbles=[],this._lastTime=0,this._elapsed=0,this._updateInterval=10,this._timeScale=1,this._speed=1,this._winners=[],this._particleManager=new V,this._stage=null,this._camera=new v,this._renderer=new D,this._effects=[],this._winnerRank=0,this._totalMarbleCount=0,this._goalDist=1/0,this._isRunning=!1,this._winner=null,this._uiObjects=[],this._autoRecording=!1,this._isReady=!1,this._theme=u.dark,this._renderer.init().then(()=>{this._init().then(()=>{this._isReady=!0,this._update()})})}getZoom(){return 30*this._camera.zoom}addUiObject(t){this._uiObjects.push(t),t.onWheel&&this._renderer.canvas.addEventListener("wheel",t.onWheel),t.onMessage&&t.onMessage(t=>{console.log("onMessage",t),this.dispatchEvent(new CustomEvent("message",{detail:t}))})}_update(){this._lastTime||(this._lastTime=Date.now());let t=Date.now();this._elapsed+=(t-this._lastTime)*this._speed*this.fastForwarder.speed,this._elapsed>1e4&&(this._elapsed%=1e4),this._lastTime=t;let e=this._updateInterval/1e3*this._timeScale;for(;this._elapsed>=this._updateInterval;)this.physics.step(e),this._updateMarbles(this._updateInterval),this._particleManager.update(this._updateInterval),this._updateEffects(this._updateInterval),this._elapsed-=this._updateInterval,this._uiObjects.forEach(t=>t.update(this._updateInterval));this._marbles.length>1&&this._marbles.sort((t,e)=>e.y-t.y),this._stage&&this._camera.update({marbles:this._marbles,stage:this._stage,needToZoom:this._goalDist<5,targetIndex:this._winners.length>0?this._winnerRank-this._winners.length:0}),this._render(),window.requestAnimationFrame(this._update)}_updateMarbles(t){if(!this._stage)return;for(let e=0;e<this._marbles.length;e++){let i=this._marbles[e];i.update(t),i.skill===h.Impact&&(this._effects.push(new C(i.x,i.y)),this.physics.impact(i.id)),i.y>this._stage.goalY&&(this._winners.push(i),this._isRunning&&this._winners.length===this._winnerRank+1?(this.dispatchEvent(new CustomEvent("goal",{detail:{winner:i.name}})),this._winner=i,this._isRunning=!1,this._particleManager.shot(this._renderer.width,this._renderer.height),setTimeout(()=>{this._recorder.stop()},1e3)):this._isRunning&&this._winnerRank===this._winners.length&&this._winnerRank===this._totalMarbleCount-1&&(this.dispatchEvent(new CustomEvent("goal",{detail:{winner:this._marbles[e+1].name}})),this._winner=this._marbles[e+1],this._isRunning=!1,this._particleManager.shot(this._renderer.width,this._renderer.height),setTimeout(()=>{this._recorder.stop()},1e3)),setTimeout(()=>{this.physics.removeMarble(i.id)},500))}let e=this._winnerRank-this._winners.length,i=this._marbles[e]?this._marbles[e].y:0;this._goalDist=Math.abs(this._stage.zoomY-i),this._timeScale=this._calcTimeScale(),this._marbles=this._marbles.filter(t=>t.y<=this._stage.goalY)}_calcTimeScale(){if(!this._stage)return 1;let t=this._winnerRank-this._winners.length;return this._winners.length<this._winnerRank+1&&this._goalDist<5&&this._marbles[t].y>this._stage.zoomY-6&&(this._marbles[t-1]||this._marbles[t+1])?Math.max(.2,this._goalDist/5):1}_updateEffects(t){this._effects.forEach(e=>e.update(t)),this._effects=this._effects.filter(t=>!t.isDestroy)}_render(){if(!this._stage)return;let t={camera:this._camera,stage:this._stage,entities:this.physics.getEntities(),marbles:this._marbles,winners:this._winners,particleManager:this._particleManager,effects:this._effects,winnerRank:this._winnerRank,winner:this._winner,size:{x:this._renderer.width,y:this._renderer.height},theme:this._theme};this._renderer.render(t,this._uiObjects)}async _init(){this._recorder=new I(this._renderer.canvas),this.physics=new F,await this.physics.init(),this.addUiObject(new L),this.attachEvent();let t=new z;t.onViewportChange(t=>{t?(this._camera.setPosition(t,!1),this._camera.lock(!0)):this._camera.lock(!1)}),this.addUiObject(t),this.fastForwarder=new Y,this.addUiObject(this.fastForwarder),this._teamDicider=new U,this.addUiObject(this._teamDicider),this._stage=k[0],this._loadMap()}mouseHandler(t,e){let i=`on${t}`,s=this._renderer.sizeFactor,o={x:e.offsetX*s,y:e.offsetY*s};this._uiObjects.forEach(t=>{if(!t[i])return;let s=t.getBoundingBox();s?s&&o.x>=s.x&&o.y>=s.y&&o.x<=s.x+s.w&&o.y<=s.y+s.h?t[i]({x:o.x-s.x,y:o.y-s.y,button:e.button}):t[i](void 0):t[i]({...o,button:e.button})})}attachEvent(){["MouseMove","MouseUp","MouseDown","DblClick"].forEach(t=>{this._renderer.canvas.addEventListener(t.toLowerCase().replace("mouse","pointer"),this.mouseHandler.bind(this,t))}),this._renderer.canvas.addEventListener("contextmenu",t=>{t.preventDefault()})}_loadMap(){if(!this._stage)throw Error("No map has been selected");this.physics.createStage(this._stage),this._camera.initializePosition()}clearMarbles(){this.physics.clearMarbles(),this._winner=null,this._winners=[],this._marbles=[]}start(){this._isRunning=!0,this._winnerRank=f.winningRank,this._winnerRank>=this._marbles.length&&(this._winnerRank=this._marbles.length-1),this._camera.startFollowingMarbles(),this._autoRecording?this._recorder.start().then(()=>{this.physics.start(),this._marbles.forEach(t=>t.isActive=!0)}):(this.physics.start(),this._marbles.forEach(t=>t.isActive=!0))}setSpeed(t){if(t<=0)throw Error("Speed multiplier must larger than 0");this._speed=t}setTheme(t){this._theme=u[t]}getSpeed(){return this._speed}setWinningRank(t){this._winnerRank=t}setAutoRecording(t){this._autoRecording=t}setMarbles(t){this.reset();let e=[...t,...this._teamDicider.getExtraMarbles()],i=-1/0,s=1/0,o=e.map(t=>{let e=function(t){let e=/\/(\d+)/,i=/\*(\d+)/,s=e.test(t),o=i.test(t),r=g(/^\s*([^\/*]+)?/,t);return r?{name:r,weight:s?parseInt(g(e,t)):1,count:o?parseInt(g(i,t)):1}:null}(t);if(!e)return null;let{name:o,weight:r,count:a}=e;return r>i&&(i=r),r<s&&(s=r),{name:o,weight:r,count:a}}).filter(t=>!!t),r=i-s,a=0;o.forEach(t=>{t&&(t.weight=.1+(r?(t.weight-s)/r:0),a+=t.count)});let n=function(t){let e,i=t.slice(),s=i.length;for(;0!==s;)e=Math.floor(Math.random()*s),s--,[i[s],i[e]]=[i[e],i[s]];return i}(Array(a).fill(0).map((t,e)=>e));o.forEach(t=>{if(t)for(let e=0;e<t.count;e++){let e=n.pop()||0;this._marbles.push(new _(this.physics,e,a,t.name,t.weight))}}),this._totalMarbleCount=a}_clearMap(){this.physics.clear(),this._marbles=[]}reset(){this.clearMarbles(),this._clearMap(),this._loadMap(),this._goalDist=1/0}getCount(){return this._marbles.length}getMaps(){return k.map((t,e)=>({index:e,title:t.title}))}setMap(t){if(t<0||t>k.length-1)throw Error("Incorrect map number");let e=this._marbles.map(t=>t.name);this._stage=k[t],this.setMarbles(e),this._camera.initializePosition()}addGroup(){this._teamDicider.addGroup()}removeGroup(){this._teamDicider.removeGroup()}setGroupName(t,e){this._teamDicider.setGroupName(t,e)}setGroupMembers(t,e){this._teamDicider.setGroupMembers(t,e)}getGroupStr(){return this._teamDicider.getGroupStr()}setLaneType(t){this._teamDicider.setLaneType(t)}setFixedLanes(t){this._teamDicider.setFixedLanes(t)}getGroups(){return this._teamDicider.getGroups()}}c([P],j.prototype,"_update",null),c([P],j.prototype,"mouseHandler",null),"serviceWorker"in navigator&&window.addEventListener("load",()=>{let t=`${window.location.origin}/roulette/service-worker.js`;navigator.serviceWorker.register(t).then(t=>console.log("service worker registered",t.scope)).catch(t=>console.error("service worker registration failed",t))});const $=new j;window.roulette=$,window.options=f;
//# sourceMappingURL=5v5roulette.9936fa94.js.map
